
*{box-sizing:border-box}
body{
  margin:0;
  font-family:'Caveat',cursive;
  background:radial-gradient(circle at top,#ffd6e8,#ffeef6);
  overflow-x:hidden;
}

h1{text-align:center;padding:20px}
h2{text-align:center;padding:20px}

.grid{
  display:grid;
  gap:16px;
  padding:20px;
  grid-template-columns:repeat(2,1fr);
}

@media(min-width:900px){
  .grid{
    grid-template-columns:repeat(3,1fr);
    max-width:1100px;
    margin:auto;
  }
}

.card{perspective:1200px}
.inner{
  position:relative;
  width:100%;
  aspect-ratio:3/4;
  transform-style:preserve-3d;
  transition:transform .9s ease;
}

.card.flip .inner{transform:rotateY(180deg)}

.front,.back{
  position:absolute;
  inset:0;
  border-radius:22px;
  overflow:hidden;
  backface-visibility:hidden;
}

.front img{
  width:100%;
  height:100%;
  object-fit:cover;
}

.back{
  background:#fff0f6;
  transform:rotateY(180deg);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:22px;
  padding:14px;
}

/* SUPER BLUR LOCK */
.locked{
  filter: blur(18px) brightness(0.35) saturate(0);
  pointer-events:none;
}

.lock{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:2.2rem;
  background:rgba(255,255,255,0.15);
}

/* today highlight */
.today{animation:pulse 2s infinite}
@keyframes pulse{
  0%,100%{transform:scale(1)}
  50%{transform:scale(1.05)}
}

/* finale */
.finale{
  box-shadow:0 0 35px rgba(255,105,180,0.9);
  animation:heartbeat 1.6s infinite;
}
@keyframes heartbeat{
  0%{transform:scale(1)}
  25%{transform:scale(1.06)}
  50%{transform:scale(1)}
  75%{transform:scale(1.08)}
  100%{transform:scale(1)}
}

@keyframes float{
  from{transform:translate(-30%,110%)}
  to{transform:translate(130%,-130%)}
}

/* === HEART SHOWER BACKGROUND === */
.heart-shower{
  position: fixed;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
  z-index: 0;
}

/* Individual heart */
.heart{
  position: absolute;
  top: -10%;
  width: 16px;
  height: 16px;
  background: #ff5fa2;
  transform: rotate(45deg);
  animation: fall linear infinite;
  opacity: 0.25;
}

/* Heart shape */
.heart::before,
.heart::after{
  content: '';
  position: absolute;
  width: 16px;
  height: 16px;
  background: #ff5fa2;
  border-radius: 50%;
}
.heart::before{ top: -8px; left: 0; }
.heart::after{ left: -8px; top: 0; }

/* Falling animation */
@keyframes fall{
  0%{
    transform: translateY(-10vh) rotate(45deg);
  }
  100%{
    transform: translateY(120vh) rotate(45deg);
  }
}

/* Randomize hearts */
.heart:nth-child(odd){
  animation-duration: 10s;
  left: 10%;
}
.heart:nth-child(even){
  animation-duration: 14s;
  left: 70%;
}

.heart:nth-child(3n){ left: 30%; animation-duration: 12s; }
.heart:nth-child(4n){ left: 50%; animation-duration: 9s; }
.heart:nth-child(5n){ left: 85%; animation-duration: 15s; }

